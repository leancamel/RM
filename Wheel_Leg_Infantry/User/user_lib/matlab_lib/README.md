当使用LQR控制器设计时，可以通过求解黎卡提方程（也称为离散时间的代数黎卡提方程）来获取最优的反馈矩阵。黎卡提方程是离散时间下的代数矩阵方程，其表达式如下：
$$
P=A^TPA-A^TPB(R+B^TPB)^{-1}B^TPA+Q
$$
其中：

- *P* 是称为状态-代价矩阵的对称正定矩阵，是黎卡提方程的解。
- *A* 是状态转移矩阵，描述了系统在一个离散时间步长内状态的演变。
- *B* 是输入矩阵，描述了控制输入如何影响系统状态的演变。
- *Q* 是状态权重矩阵，用于衡量状态的重要性。
- *R* 是输入权重矩阵，用于衡量控制输入的成本。

通过解黎卡提方程，可以得到最优状态-反馈矩阵 *K*，其表达式为：
$$
K=(R+B^TPB)^{-1}(B^TPA)
$$
在离散时间下，选择更小的离散时间意味着系统在每个时间步骤上的状态变化更小，需要更强的控制力来实现所需的控制性能。这反映在黎卡提方程解中，状态-代价矩阵 *P* 的值会随着离散时间的减小而增大，因为系统需要更强的控制来维持稳定性和性能。

